<p-dialog (onShow)="afterShow()" header="Карточка контрагента" appendTo="body"
          [(visible)]="display" [closable]="false"
          [focusOnShow]="false" [responsive]="true" showEffect="fade" [modal]="true" [style]="{width: '450px'}">
  <p-tabView>
    <p-tabPanel header="Основное" leftIcon="fas fa-file-alt">
      <div [formGroup]="counterPartyForm" class="ui-g ui-fluid" *ngIf="counterparty">
        <div class="ui-g-12">
          <div class="ui-g-4">
            <label for="name">ИМЯ</label>
          </div>
          <div class="ui-g-8">
            <input pInputText id="name" formControlName="counterName" autofocus/>
          </div>
          <div class="ui-grid-col-8">
            <p-message severity="error" text="Имя должно быть заполнено"
                       *ngIf="!counterPartyForm.controls['counterName'].valid&&counterPartyForm.controls['counterName'].dirty"></p-message>
          </div>
        </div>

        <div class="ui-g-12">
          <div class="ui-g-4">
            <label for="acive">АКТИВНЫЙ</label>
          </div>
          <div class="ui-g-8">
            <p-checkbox id="acive" [binary]="true" formControlName="counterActive"></p-checkbox>
          </div>
        </div>


      </div>
    </p-tabPanel>
    <p-tabPanel header="Реквизиты" leftIcon="fas fa-file-signature">
      <div [formGroup]="counterPartyForm" class="ui-g ui-fluid" *ngIf="counterparty">
        <div class="ui-g-12">
          <div class="ui-g-4">
            <label>Поиск по ИНН</label>
          </div>
          <div class="ui-g-8">
            <app-dadata-party (onPartySuggest)="onPartyRequisitesSaved($event)"></app-dadata-party>
          </div>
        </div>
        <div class="ui-g-12">
          <div class="ui-g-4">
            <label>НАИМ.</label>
          </div>
          <div class="ui-g-8">
            <input pInputText  formControlName="partyNameShort">
          </div>
          <div class="ui-g-4">
            <label>НАИМ.(ПОЛНОЕ)</label>
          </div>
          <div class="ui-g-8">
            <input pInputText  formControlName="partyNameFull">
          </div>
          <div class="ui-g-4">
            <label>ИНН</label>
          </div>
          <div class="ui-g-8">
            <input pInputText  formControlName="partyInn">
          </div>
          <div class="ui-g-4">
            <label>ОГРН/ОГРНИП</label>
          </div>
          <div class="ui-g-8">
            <input pInputText  formControlName="partyOgrn">
          </div>
          <div class="ui-g-4">
            <label>КПП</label>
          </div>
          <div class="ui-g-8">
            <input pInputText  formControlName="partyKpp">
          </div>
        </div>
      </div>
    </p-tabPanel>
  </p-tabView>
  <p-footer>
    <div class="ui-dialog-buttonpane ui-helper-clearfix">

      <button [disabled]="counterPartyForm.invalid" type="button" class="ui-button-success" pButton icon="fa fa-check"
              (click)="counterpartySaved()"
              label="Сохранить"></button>
      <button type="button" class="ui-button-secondary" pButton icon="pi pi-times" (click)="closeDialog()"
              label="Отмена"></button>
    </div>

  </p-footer>

</p-dialog>

